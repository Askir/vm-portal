<h1>
  Edit VM information of <span class="font-italic"><%= @configuration.name %></span>
</h1>

<%# https://github.com/bootstrap-ruby/bootstrap_form %>
<%= bootstrap_form_with(scope: :vm_info, url: { :controller => "vms", :action => "update", id: @configuration.name }, method: :patch, local: true, layout: :horizontal) do |form| %>
  <%= form.alert_message "Please fix the errors below.", error_summary: false %>

  <%= form.select :sudo_user_ids,
      options_from_collection_for_select(User.all, :id, :human_readable_identifier, @sudo_user_ids),
      { include_hidden: false, label: 'Users with sudo rights' },
      { multiple: true, class: 'selecttwo' } %>

  <%= form.select :user_ids,
      options_from_collection_for_select(User.all, :id, :human_readable_identifier, @non_sudo_user_ids),
      { include_hidden: false, label: 'Users without sudo rights' },
      { multiple: true, class: 'selecttwo'} %>

  <%= form.text_area :description, cols: 40, rows: 4, value: @configuration.description %>

  <% if current_user.admin? %>
    <%= form.text_field :ip, label: 'IP', value: @configuration.ip %>
    <%= form.text_field :dns, label: 'DNS', value: @configuration.dns %>
  <%end  %>

  <%= form.submit 'Update VM information', class: 'btn btn-primary' %>
<% end %>