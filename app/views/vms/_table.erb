<table data-toggle="table" class="table" id=<%= id %>>
  <thead>
  <tr>
    <th scope="col" data-sortable="true" class="rounded-left">Name</th>
    <th scope="col" data-sortable="true">Project</th>
    <th scope="col" data-sortable="true" class="rounded-right">Responsible</th>
    <th scope="col" class="d-none">Description</th> <!-- This is not intended to be shown, just important for the search functionality -->
  </tr>
  </thead>
  <tbody id="vms">
  <% vms&.slice(0...10)&.each do |vm| %>
    <tr>
      <td class="table-active">
        <%= render 'vms/vm_status', vm: vm %>
        <%= link_to vm.name,
                    {controller: :vms, action: 'show', id: vm.name},
                    method: :get, class: "btn btn-link"  %>
      </td>
      <td class="table-active">
        <% if vm.project.nil? %>
          No project found!
        <% else %>
          <%= link_to vm.project.name, vm.project %>
        <% end %>
      </td>
      <td class="table-active">
        <% if vm.responsible_users.empty? %>
          No responsible users found!
        <% else %>
          <ul class="list-unstyled">
            <% vm.responsible_users.each do |user| %>
              <li><%= link_to user.name, user %></li>
            <% end %>
          </ul>
        <% end %>

        <% unless buttons.nil? %>
          <%= render buttons.to_s, vm: vm %>
        <%  end %>
      </td>
      <td class="d-none"> <!-- Also not intended to be shown! -->
        <%= vm.config&.description %>
      </td>
    </tr>
  <% end %>
  </tbody>
</table>