<table class="table table-striped">
  <thead>
  <th>Name</th>
  <th>Description</th>
  <th>Responsible</th>
  <th>Actions</th>
  </thead>
  <tbody>
  <% projects.each do |project| %>
    <tr>
      <td class="table-active"><%= link_to project.name, project_path(project) %></td>
      <td class="table-active"><%= project.description %></td>
      <td class="table-active">
        <ul class="list-inline mb-0">
          <% project.responsible_users.each do |user| %>
            <li class="list-inline-item"><%= link_to user.name, user %></li>
          <% end %>
        </ul>
      </td>
      <td class="table-active">
        <% if project.responsible_users.include? current_user %>
          <%= link_to 'Delete',
                      { controller: :projects,
                        action: 'destroy', id: project.id},
                        method: :delete,
                        data: {confirm: "Are you sure that you want to delete this project?\nThe following VMs will loose their project:\n" + project.virtual_machine_configs.map(&:name).join(",")},
                        class: "btn btn-danger" %>
        <% end %>
      </td>
    </tr>
  <% end %>
  </tbody>
</table>
